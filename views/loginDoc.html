<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Login</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.14.5/firebase-firestore.js"></script>
        
        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet">

        <!-- Icons -->
        <link href="../assets/vendor/nucleo/css/nucleo-icons.css" rel="stylesheet">
        <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">

        <!-- Theme CSS -->
        <link type="text/css" href="../assets/css/blk-design-system.min.css" rel="stylesheet">
        <link rel="stylesheet" href="welcome.css">
            </head>
        <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        

        <div></div>
        <div class="container">

            <p class="text-primary text-center Welcome" >
                
                <div class="pt-5"></div>
                <div class="pt-5"></div>
                <p class="h1 text-primary text-center pt-5 pb-5">
                
                Welcome to Willow - Health Care Login
            
                </p>
                <p class="h3 text-primary text-center pt-5 pb-1">
                
                    Sign In
                
                    </p>
            
            
            
            
            </p>

            <form>
                <div class="form-group">
                  <label for="exampleInputEmail1">Email</label>
                  <input type="text" class="form-control border-light" id="email" aria-describedby="emailHelp">
                  <small id="emailHelp" class="form-text">Please enter your email address</small>
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">Password</label>
                  <input type="password" class="form-control border-light" id="password">
                </div>
                <button type="button" class="btn btn-primary" onclick="signIn()"> <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>   Login</button>  
              </form>

              <script>
                function signIn() {
                  const email = document.getElementById('email').value;
                  const password = document.getElementById('password').value;
                  const firebaseConfig = {
                    apiKey: "AIzaSyAnZoE_5mt2yCOo9t7UHK8xWHl-EQB6EIM",
                    authDomain: "willow-b91d1.firebaseapp.com",
                    projectId: "willow-b91d1",
                    storageBucket: "willow-b91d1.appspot.com",
                    messagingSenderId: "198516755663",
                    appId: "1:198516755663:web:a758a81fa8f4f580b17bba",
                    measurementId: "G-RW6LFK72XC"
                  };
                  if (!firebase.apps.length)
                    firebase.initializeApp(firebaseConfig);
                  firebase.auth().setPersistence(firebase.auth.Auth.Persistence.SESSION).then(() => {
                    firebase.auth().signInWithEmailAndPassword(email, password).then((user) => {
                      firebase.firestore().collection('doctors').doc(user.uid).get().then((doc) => {
                        if (doc.exists)
                          window.location = "home.html";
                        else
                          firebase.auth().signOut();
                      });
                    }).catch((err) => console.log("Creation: ", err));
                  }).catch((err) => console.log("Persistence: ", err));
                }
              </script>
        
        <script src="" async defer></script>

        <br />
        <br />
        <br />
    </body>

    <!-- Core -->
<script src="../assets/js/core/jquery.min.js"></script>
<script src="../assets/vendor/popper/popper.min.js"></script>
<script src="../assets/vendor/bootstrap/bootstrap.min.js"></script>

<!-- Theme JS -->
<script src="../assets/js/blk-design-system.min.js"></script>
</html>